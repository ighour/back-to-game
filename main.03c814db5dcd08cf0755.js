!function(i){var n={};function a(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=i,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([function(t,e,i){"use strict";i.r(e);var n,a,r=i(3).Graph,o=document.querySelector("#game-canvas"),c=o.getContext("2d"),h=[],l={click:[],mouseMove:[],mouseDown:[],mouseUp:[],keyDown:[]},u={fillStyle:"white",strokeStyle:"white",font:"50px Arial",textAlign:"center",textBaseline:"middle"},d={lastTimeUpdate:0,maxFPS:60,delta:0,unit:1e3/60,FPS:60,framesNow:0,lastFPS:0};o.width=1024,o.height=768,c.lineWidth=2,c.fillStyle=u.fillStyle,c.strokeStyle=u.strokeStyle,c.font=u.font,c.textAlign=u.textAlign,c.textBaseline=u.textBaseline;function f(t,e){var i=o.getBoundingClientRect();return{x:t-i.left,y:e-i.top}}o.addEventListener("click",function(e){var i=f(e.clientX,e.clientY);l.click.forEach(function(t){return t(e,i.x,i.y)})});o.addEventListener("mousemove",function(e){var i=f(e.clientX,e.clientY);l.mouseMove.forEach(function(t){return t(e,i.x,i.y)})});o.addEventListener("mousedown",function(e){return l.mouseDown.forEach(function(t){return t(e)})});o.addEventListener("mouseup",function(e){return l.mouseUp.forEach(function(t){return t(e)})}),o.addEventListener("touchmove",function(t){t.preventDefault();var e=t.touches[0];o.dispatchEvent(new MouseEvent("mousemove",{clientX:e.clientX,clientY:e.clientY}))}),o.addEventListener("touchstart",function(t){t.preventDefault();var e=t.touches[0],i=f(e.clientX,e.clientY);o.dispatchEvent(new MouseEvent("mousedown",{clientX:i.x,clientY:i.y}))}),o.addEventListener("touchend",function(t){t.preventDefault();var e=t.changedTouches[0],i=f(e.clientX,e.clientY);o.dispatchEvent(new MouseEvent("mouseup",{clientX:i.x,clientY:i.y})),o.dispatchEvent(new MouseEvent("click",{clientX:i.x,clientY:i.y}))});document.addEventListener("keydown",function(e){l.keyDown.forEach(function(t){return t(e)})}),document.addEventListener("contextmenu",function(t){return t.preventDefault()});function s(t,e){e&&P(e),t(),e&&P(u)}function y(t,e,i,n,a){s(function(){return c[t](e,i,n)},a)}function g(t,e,i,n){return y("fillText",t,e,i,n)}function w(e,i,n,a,t){s(function(){for(var t=0;t<e.length;t++)c.fillText(e[t],i,n+a*t)},t)}function v(t,e,i,n,a,r){s(function(){return c[t](e,i,n,a)},r)}function x(t,e,i,n,a){return v("fillRect",t,e,i,n,a)}function m(t,e,i,n,a){return v("strokeRect",t,e,i,n,a)}function p(t,e,i,n,a,r,o){var h=4<arguments.length&&void 0!==a?a:0,l=5<arguments.length&&void 0!==r?r:2*Math.PI;s(function(){c.beginPath(),c.arc(e,i,n,h,l),c[t]()},6<arguments.length?o:void 0)}function b(t,e,i,n,a,r){return p("fill",t,e,i,n,a,r)}function S(t,e,i,n,a,r){return p("stroke",t,e,i,n,a,r)}function k(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}function M(t){if(t<d.lastTimeUpdate+1e3/d.maxFPS)n=requestAnimationFrame(M);else{for(t>d.lastFPS+1e3&&(d.FPS=Math.floor(.25*d.framesNow+.75*d.FPS),d.lastFPS=t,d.framesNow=0,B()),d.framesNow++,d.delta+=t-d.lastTimeUpdate,d.lastTimeUpdate=t;d.delta>=d.unit;)d.delta-=d.unit;c.clearRect(0,0,o.width,o.height),h[a].onUpdate(),n=requestAnimationFrame(M)}}function T(t){h[a].onStart(t),M(0)}var P=function(t){var e=t.fillStyle,i=t.strokeStyle,n=t.font,a=t.textAlign,r=t.textBaseline;e&&(c.fillStyle=e),i&&(c.strokeStyle=i),n&&(c.font=n),a&&(c.textAlign=a),r&&(c.textBaseline=r)},E={canvas:{x:0,y:0,width:o.width,height:o.height},player:{name:"",life:100,damage:25},events:{addClick:function(t){return l.click.push(t)},addMouseMove:function(t){return l.mouseMove.push(t)},addMouseDown:function(t){return l.mouseDown.push(t)},addMouseUp:function(t){return l.mouseUp.push(t)},addKeyDown:function(t){return l.keyDown.push(t)}},draw:{styles:P,line:function(t,e,i,n,a){s(function(){c.beginPath(),c.moveTo(t,e),c.lineTo(i,n),c.stroke()},a)},splitLine:function(a,r,o,h,l,t){s(function(){var t=a,e=r,i=(o-a)/l,n=(h-r)/l;for(c.beginPath();t<o||e<h;)c.moveTo(t,e),t+=i,e+=n,c.lineTo(t,e),t+=i,e+=n;c.stroke()},t)},fillText:g,strokeText:function(t,e,i,n){return y("strokeText",t,e,i,n)},fillTextBlock:w,fillRect:x,strokeRect:m,fillCircle:b,strokeCircle:S,drawTutorial:function(t,e,i,n,a){g(t,o.width/2,o.height/5,{font:"100px Arial"});var r=["Year:","Boss:","Intel:"];w(r,o.width/20,2*o.height/5,70,{textAlign:"left",font:"30px Arial"}),w(r=[e,i],o.width/20+100,2*o.height/5,70,{textAlign:"left",font:"30px Arial"}),w(n,o.width/20+100,2*o.height/5+140,35,{textAlign:"left",font:"30px Arial"}),g("Travel",a.x+a.width/2,a.y+a.height/2),m(a.x,a.y,a.width,a.height)},drawGameOver:function(t,e){var i=e.life<=0?"".concat(e.name," was Defeated!"):"".concat(E.player.name," was Defeated!");g(i,t.x+t.width/2,t.y+t.height/2)},drawPlayerPanel:function(t,e){g(E.player.name,t.x+t.width/4,t.y+t.height-20,{textBaseline:"bottom"}),g(e.name,t.x+3*t.width/4,t.y+t.height-20,{textBaseline:"bottom"});var i=t.x+t.width/4,n=E.player.life/100*i,a=e.life/100*i;x(t.x+t.width/8,t.y+t.height-100,n,20),x(t.x+t.width/8+n,t.y+t.height-100,i-n,20,{fillStyle:"black"}),x(t.x+7*t.width/8-i,t.y+t.height-100,a,20),x(t.x+7*t.width/8-i+a,t.y+t.height-100,i-a,20,{fillStyle:"black"})},drawMouseDirection:function(t,e,i){var n=t.x+t.width/2,a=t.y+t.height/2;b(n,a,10),S(n+10*e,a+10*i,20)}},functions:{doDamage:function(t,e){return t.life-=e,Math.floor(t.life)<=0&&(setTimeout(function(){E.next(t!==E.player)},3e3),!0)},getMagVector:k,getNormalizedVector:function(t,e,i){return 0===(i=i||k(t,e))?{x:0,y:0}:{x:t/i,y:e/i}}},dataStructures:{graph:r},delta:d.unit,FPS:d.FPS,current:a,add:function(t){return h.push(t)},next:function(t){cancelAnimationFrame(n),l={click:[],mouseMove:[],mouseDown:[],mouseUp:[],keyDown:[]},h[a].onStop&&h[a].onStop();var e=h.length-1;a=!1!==t?a===e?0:a+1:e,T(t)},start:function(){return 0!==h.length&&(a=0,T(),!0)}},C=document.querySelector("#game-aux"),D=C.getContext("2d");C.width=o.width,C.height=50,D.lineWidth=2,D.font="20px Arial",D.textAlign="left",D.textBaseline="center",D.fillStyle="lightgrey",D.fillText("Back To #",0,C.height/2),D.textAlign="right";var B=function(){D.clearRect(C.width/2,0,C.width/2,C.height),D.fillStyle=d.FPS<d.maxFPS/2?"red":"lightgrey",D.fillText("".concat(d.FPS," FPS"),C.width,C.height/2)};e.default=E},function(t,e,i){i(2);var n=i(0).default,a=i(4).default,r=i(5).default,o=i(6).default,h=i(7).default,l=i(8).default;n.add(a),n.add(r),n.add(o),n.add(h),n.add(l),function t(){n.start()||setTimeout(t,500)}()},function(t,e,i){},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e),i.d(e,"Graph",function(){return a});var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._graph={}}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"addVertex",value:function(t){this._graph[t]=[]}},{key:"addEdge",value:function(t,e){this._graph[t].push(e)}},{key:"iteratorBFS",value:function(t,e){var i=[],n=[],a=[];return n.push(t),a.push(t),this._iteratorBFSRecursion(i,n,a,e),i}},{key:"_iteratorBFSRecursion",value:function(t,e,i,n){if(0!==e.length){var a=e.shift(),r=this._graph[a];if(t.push(a),(void 0===n||!n(a))&&void 0!==r){for(var o=0;o<r.length;o++){var h=r[o];i.includes(h)||(e.push(h),i.push(h))}this._iteratorBFSRecursion(t,e,i,n)}}}},{key:"iteratorShortestPath",value:function(t,e){var i=[],n=[],a=[],r={},o={};if(n.push(t),a.push(t),r[t]=0,o[t]=-1,this._iteratorShortestPathRecursion(n,a,r,o,e),void 0!==o[e])for(var h=e;-1!==h;)i.unshift(h),h=o[h];return i}},{key:"_iteratorShortestPathRecursion",value:function(t,e,i,n,a){if(!(t.length<=0)){var r=t.shift(),o=this._graph[r];if(void 0!==o){for(var h=0;h<o.length;h++){var l=o[h];if(!e.includes(l)){t.push(l),e.push(l);var c=i[l],u=i[r]+1;if((void 0===c||u<c)&&(i[l]=u,n[l]=r),l===a)return}}this._iteratorShortestPathRecursion(t,e,i,n,a)}}}}]),t}()},function(t,e,i){"use strict";i.r(e);function n(t,e,i){if(e>r.x&&e<r.x+r.width&&i>r.y&&i<r.y+r.height)c?0<u.length&&w():c=!0;else if(c&&e>o.x&&e<o.x+o.width&&i>o.y&&i<o.y+o.height){var n=g(e,i);v(n)}}function a(t){if(c){var e=t.key;y(e)&&u.length<f.max?u+=e:8===t.keyCode?u=u.slice(0,u.length-1):20===t.keyCode&&(l=!l)}}var r,o,h,l,c,u,d,f,s=i(0).default,y=function(t){return(0!==u.length||" "!==t)&&(1===t.length&&f.keys.test(t))},g=function(t,e){return Math.floor((t-o.x)/h.width)+10*Math.floor((e-o.y)/h.height)},w=function(){s.player.name=u,s.next(!0)},v=function(t){29===t?l=!l:38===t?0<u.length&&u.length<f.max&&(u+=" "):39===t?u=u.slice(0,u.length-1):u.length<f.max&&(u+=l?d[t]:d[t].toLowerCase())},x=function(){s.draw.strokeRect(o.x,o.y,o.width,o.height,{strokeStyle:"#555555"});for(var t=0;t<d.length;t++){var e=o.x+h.width/2+h.width*(t%10),i=o.y+h.height/2+h.height*Math.floor(t/10),n=d[t];!l&&9<t&&!["Caps","_","Space","Del"].includes(n)&&(n=n.toLowerCase()),s.draw.fillText(n,e,i,{font:"25px Arial"})}};e.default={onStart:function(){r={x:s.canvas.width/2-180,y:9*s.canvas.height/10-30,width:360,height:60},o={x:s.canvas.width/10,y:3*s.canvas.height/8+50,width:4*s.canvas.width/5,height:s.canvas.height/3},h={width:o.width/10,height:o.height/4},c=l=!1,u="",d=["1","2","3","4","5","6","7","8","9","0","Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Caps","Z","X","C","V","B","N","M","_","Space","Del"],f={max:8,keys:/[a-zA-Z0-9_ ]/},s.events.addClick(n),s.events.addKeyDown(a)},onUpdate:function(){!1===c?function(){s.draw.fillText("Back To #",s.canvas.width/2,s.canvas.height/5,{font:"100px Arial"});s.draw.fillTextBlock(["Welcome to a journey back through time","where some games were corrupted.","Now only a true gamer","can proceed!"],s.canvas.width/2,2*s.canvas.height/5,70),s.draw.fillText("Start Game",r.x+r.width/2,r.y+r.height/2),s.draw.strokeRect(r.x,r.y,r.width,r.height)}():(s.draw.fillTextBlock(["May I know your name,","Traveler?"],s.canvas.width/2,s.canvas.height/10,70),s.draw.fillRect(s.canvas.width/3,3*s.canvas.height/10,s.canvas.width/3,46),s.draw.fillText(u,s.canvas.width/2,3*s.canvas.height/10+23,{fillStyle:"#222222"}),x(),0<u.length&&(s.draw.fillText("Time Travel",r.x+r.width/2,r.y+r.height/2),s.draw.strokeRect(r.x,r.y,r.width,r.height)))}}},function(t,e,i){"use strict";i.r(e);function n(t,e,i){m&&e>s.x&&e<s.x+s.width&&i>s.y&&i<s.y+s.height&&(m=!1)}function a(t,e,i){!m&&e>f.x&&e<f.x+f.width&&i>f.y&&i<f.y+f.height&&(E=D.functions.getNormalizedVector(e-(f.x+f.width/2),i-(f.y+f.height/2)))}function c(t){return{x:f.x+g.width*(t%g.count),y:f.y+g.height*Math.floor(t/g.count)}}function r(t,e){switch(t){case"l":return e%g.count==0?e+g.count-1:e-1;case"r":return e%g.count==g.count-1?e-g.count+1:e+1;case"t":return 0===Math.floor(e/g.count)?e+g.count*(g.count-1):e-g.count;case"b":return Math.floor(e/g.count)===g.count-1?e-g.count*(g.count-1):e+g.count}}function o(t,e){var i=r(t,e);return 1===w[i]?-1:i}function h(t,e,i){return t<=0&&-1!==e?e:0<t&&-1!==i?i:-1}function l(){C=new D.dataStructures.graph;for(var t=function(i){0===w[i]&&(C.addVertex(i),["l","r","t","b"].forEach(function(t){var e=function(t,e){var i=r(t,e);return 0===w[i]?i:-1}(t,i);-1!==e&&C.addEdge(i,e)}))},e=0;e<w.length;e++)t(e)}function u(){!function(){for(var t=0;t<w.length;t++){var e=c(t);1===w[t]?(D.draw.fillRect(e.x,e.y,g.width,g.height),D.draw.strokeRect(e.x,e.y,g.width,g.height,{strokeStyle:"#EEEEEE"})):D.draw.fillRect(e.x,e.y,g.width,g.height,{fillStyle:"#666666"})}}(),function(){var h=g.width>=g.height?g.height/2:g.width/2;if(T.forEach(function(t){var e=c(t);D.draw.fillCircle(e.x+g.width/2,e.y+g.height/2,h/8)}),S.forEach(function(t){var e=c(t),i=e.x+g.width/2,n=e.y+g.height/2,a=1===S.length?"orange":x.bgColor,r=1===S.length?"royalblue":x.color;if(D.draw.fillCircle(i,n,h,void 0,void 0,{fillStyle:a}),D.draw.fillRect(i-h,n,2*h,9*h/10,{fillStyle:a}),1!==S.length){var o=n+h/4;[[i,o,i-h/4,o+h/5],[i-h/4,o+h/5,i-2*h/4,o],[i-2*h/4,o,i-3*h/4,o+h/5],[i,o,i+h/4,o+h/5],[i+h/4,o+h/5,i+2*h/4,o],[i+2*h/4,o,i+3*h/4,o+h/5]].forEach(function(t){D.draw.line(t[0],t[1],t[2],t[3],{strokeStyle:r})})}D.draw.fillCircle(i-h/3,n-h/2,h/8,void 0,void 0,{fillStyle:r}),D.draw.fillCircle(i+h/3,n-h/2,h/8,void 0,void 0,{fillStyle:r})}),0<p.life){var t,e,i=c(k),n=i.x+g.width/2,a=i.y+g.height/2,r=Math.PI,o=Math.PI,l=Math.PI/8*v.bite;switch(v.dir){case"l":r*=1.25,o*=1.75,t=n+g.width/20,e=a-g.width/5;break;case"r":r*=.25,o*=.75,t=n-g.width/20,e=a-g.width/5;break;case"t":r*=1.75,o*=.25,t=n-g.width/5,e=a-g.height/20;break;case"b":r*=.75,o*=1.25,t=n-g.width/5,e=a+g.height/20;break;default:r=0}D.draw.fillCircle(n,a,h,r-l,r+Math.PI+l,{fillStyle:"yellow"}),D.draw.fillCircle(n,a,h,o-l,o+Math.PI+l,{fillStyle:"yellow"}),D.draw.fillCircle(t,e,h/7,void 0,void 0,{fillStyle:"black"})}}()}function d(){!0===b?D.draw.drawGameOver(y,p):(D.draw.drawPlayerPanel(y,p),D.draw.drawMouseDirection(y,E.x,E.y))}var f,s,y,g,w,v,x,m,p,b,S,k,M,T,P,E,C,D=i(0).default,B=function(){if(!b&&0<T.length&&0===p.path.length&&function(){var t=C.iteratorBFS(k,function(t){return T.includes(t)}).pop();void 0!==t&&(p.path=C.iteratorShortestPath(k,t))}(),0<p.path.length){var t=p.path.shift();M=k,(k=t)===r("l",M)?v.dir="l":k===r("r",M)?v.dir="r":k===r("t",M)?v.dir="t":k===r("b",M)&&(v.dir="b")}},R=function(){var n=Math.abs(E.x)>=Math.abs(E.y);S=S.map(function(t){var e=function(t){return{l:o("l",t),r:o("r",t),t:o("t",t),b:o("b",t)}}(t),i=-1;return n?-1===(i=h(E.x,e.l,e.r))&&.2<=Math.abs(E.y)&&(i=h(E.y,e.t,e.b)):-1===(i=h(E.y,e.t,e.b))&&.2<=Math.abs(E.x)&&(i=h(E.x,e.l,e.r)),-1===i?t:i}).filter(function(t){return t!==M||(b=Y(),!1)})},Y=function(){return!b&&(1===S.length?D.functions.doDamage(p,D.player.damage):D.functions.doDamage(D.player,p.damage2))},F=function(){1===(S=S.filter(function(t,e){return S.indexOf(t)===e})).length&&S[0]===k?b=Y():S=S.filter(function(t){return t!==k||(b=Y(),!1)}),T=T.filter(function(t){return t!==k||(b=D.functions.doDamage(D.player,p.damage),!1)})};e.default={onStart:function(t){f={x:D.canvas.width/8,y:D.canvas.height/20,width:3*D.canvas.width/4,height:3*D.canvas.height/4},s={x:D.canvas.width/2-90,y:5*D.canvas.height/6-30,width:180,height:60},y={x:0,y:f.y+f.height+20,width:D.canvas.width,height:D.canvas.height-(f.y+f.height+20)-1},w=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,1,0,1,0,1,0,0,1,1,1,0,1,1,0,1,1,0,1,1,0,1,0,1,0,1,0,1,1,1,1,0,1,1,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,1,1,0,1,0,1,1,1,0,1,1,0,1,0,1,1,0,1,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,0,1,1,1,1,1,0,1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,1,1,0,0,0,0,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,1,1,0,1,1,1,0,1,1,0,1,1,1,0,1,1,0,1,1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,1,1,1,0,1,0,1,0,1,1,1,0,1,1,0,1,0,1,0,1,1,1,0,0,1,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,0,1,1,0,1,1,1,0,1,0,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],(g={count:Math.sqrt(w.length),width:0,height:0}).width=f.width/g.count,g.height=f.height*g.width/f.width,v={dir:"c",bite:0},x={bgColor:"blue",color:"white"},b=!(m=!0),M=k=210,p={name:"Evil Pac",life:100,damage:100/(T=[22,26,33,37,44,48,51,55,61,78,83,87,92,96,121,124,126,133,135,138,148,166,170,173,176,181,184,198,208,211,226,233,241,244,248,251,255,258,282,286,293,297,304,315,321,327,332,,338,362,365,368,371,374,377]).length,damage2:100/(S=[21,38,361,378]).length-1,path:[]},P=0,E={x:f.x+f.width/2,y:f.y+f.height/2},C={},D.player.damage=100,D.events.addMouseMove(a),D.events.addClick(n),l()},onUpdate:function(){m?D.draw.drawTutorial("Mission #1","1980",p.name,["Boss is eating your life and you can do nothing","Except if you join all ghosts together and eat him","But they are confused with your orders"],s):(b||(250<=(P+=D.delta)?(v.bite=0,x={bgColor:"royalblue",color:"white"}):200<=P?(v.bite=2,x={bgColor:"blue",color:"white"}):150<=P?(v.bite=1,x={bgColor:"royalblue",color:"white"}):100<=P?(v.bite=0,x={bgColor:"blue",color:"white"}):50<=P?(v.bite=2,x={bgColor:"royalblue",color:"white"}):0<=P&&(v.bite=1,x={bgColor:"blue",color:"white"}),300<=P&&(B(),R(),F(),P=0)),u(),d())}}},function(t,e,i){"use strict";i.r(e);function n(t,e,i){w&&e>s.x&&e<s.x+s.width&&i>s.y&&i<s.y+s.height&&(w=!1)}function a(t,e,i){!w&&e>f.x&&e<f.x+f.width&&i>f.y&&i<f.y+f.height&&(k={x:e,y:i})}function r(t){w||(S=!0)}function o(t){w||(S=!1)}function l(t,e){x||(t.B>e.y&&t.T<e.y+g.height?(x=M.functions.doDamage(M.player,v.damage),b.speed<2&&(b.speed+=.05*Math.random())):x=M.functions.doDamage(v,M.player.damage))}function h(){!function(){var t={x:b.directionX,y:b.directionY};if(S){var e={x:k.x-b.x,y:k.y-b.y},i=M.functions.getNormalizedVector(e.x,e.y);b.forceX=i.x,b.forceY=i.y,t.x+=b.forceX/50,t.y+=b.forceY/50}var n=M.functions.getNormalizedVector(t.x,t.y);-.5<n.x&&n.x<.5&&(n.x=n.x<=0?-.5:.5),-.5<n.y&&n.y<.5&&(n.y=n.y<=0?-.5:.5),b.directionX=n.x,b.directionY=n.y}(),function(){var t=b.speed*M.delta/1.5,e=b.x+b.directionX*t,i=b.y+b.directionY*t,n=m.x+g.width,a=p.x,r=f.y,o=f.y+f.height,h={L:e-b.radius,R:e+b.radius,T:i-b.radius,B:i+b.radius};h.L<n?(l(h,m),e=n+b.radius,b.directionX*=-1):a<h.R&&(l(h,p),e=a-b.radius,b.directionX*=-1),h.T<r?(i=r+b.radius,b.directionY*=-1):o<h.B&&(i=o-b.radius,b.directionY*=-1),b.x=e,b.y=i}()}function c(t,e){var i={x:b.x-t.x,y:e-t.y},n=M.functions.getNormalizedVector(i.x,i.y);if(!(-.1<=n.y&&n.y<=.1)){var a=t.y+n.y*M.delta;a<f.y?a=f.y:a+g.height>f.y+f.height&&(a=f.y+f.height-g.height),t.y=a}}function u(){var t=function(t){var e=t-g.height/2;return e<f.y?e=f.y:e+g.height>f.y+f.height&&(e=f.y+f.height-g.height),e}(b.y);c(m,t),c(p,t)}function d(){!0===x?M.draw.drawGameOver(y,v):(M.draw.drawPlayerPanel(y,v),S?M.draw.drawMouseDirection(y,b.forceX,b.forceY):M.draw.strokeCircle(y.x+y.width/2,y.y+y.height/2,10))}var f,s,y,g,w,v,x,m,p,b,S,k,M=i(0).default;e.default={onStart:function(t){f={x:M.canvas.width/10,y:M.canvas.height/10,width:4*M.canvas.width/5,height:3*M.canvas.height/5},s={x:M.canvas.width/2-90,y:5*M.canvas.height/6-30,width:180,height:60},y={x:0,y:f.y+f.height+20,width:M.canvas.width,height:M.canvas.height-(f.y+f.height+20)-1},g={width:10,height:f.height/5},v={name:"Evil Pong",life:100,damage:1},x=!(w=!0),m={x:f.x+3,y:f.y+f.height/2},p={x:f.x+f.width-3-g.width,y:m.y},b={x:f.x+f.width/2,y:f.y+f.height/2,radius:7,directionX:Math.random(),directionY:Math.random(),forceX:0,forceY:0,speed:1},S=!1,k={x:b.x,y:b.y},M.player.damage=10,M.events.addMouseMove(a),M.events.addClick(n),M.events.addMouseDown(r),M.events.addMouseUp(o)},onUpdate:function(){w?M.draw.drawTutorial("Mission #2","1972",v.name,["The boss loses HP when the ball is out.","Your mouse has a magnetical field when clicked down.","Crashing on bars will hurt you and push the ball."],s):(u(),h(),M.draw.strokeRect(f.x,f.y,f.width,f.height),M.draw.splitLine(f.x+f.width/2,f.y,f.x+f.width/2,f.y+f.height,30),M.draw.fillRect(m.x,m.y,g.width,g.height),M.draw.fillRect(p.x,p.y,g.width,g.height),M.draw.fillCircle(b.x,b.y,b.radius),d())}}},function(t,e,i){"use strict";i.r(e);function n(t,e,i){if(s)e>c.x&&e<c.x+c.width&&i>c.y&&i<c.y+c.height&&(s=!1);else if(e>l.x&&e<l.x+l.width&&i>l.y&&i<l.y+l.height){if(-1!==m||0!==w||!0===y)return;var n=S(e,i);if(!b(n.x,n.y))return;var a=n.x+3*n.y;0===x[a]&&k(a)}}function r(){for(var t,e=0;e<x.length;e++)if(-1===x[e]){t=e;break}var i=Math.floor(t/3);return{x:t-3*i,y:i}}function o(i){for(var t=0;t<v.length;t++){var e=v[t].reduce(function(t,e){return t*=i[e]},1);if(1===e)return 1;if(8===e)return 2}return 0!==x.reduce(function(t,e){return t*e},1)?-1:0}function a(){var t=function(){for(var t=1===m?2:1,e=[],i=[],n=0;n<9;n++)if(0===x[n]){var a=x.slice(0);if(a[n]=m,o(a)===m)return n;a[n]=t,o(a)===t?e.push(n):i.push(n)}return 0<e.length?e[0]:i[Math.floor(Math.random()*i.length)]}();setTimeout(function(){return k(t)},500)}function h(){!0===y?p.draw.drawGameOver(d,f):0!==w?function(){var t=-1===w?"".concat(p.player.damage," damage to ").concat(f.name,"!"):"".concat(f.damage," damage to you!");p.draw.fillText(t,d.x+d.width/2,d.y+d.height/2)}():(p.draw.fillText("x",d.x+d.width/2,d.y+d.height-20,{textBaseline:"bottom"}),-1===m?p.draw.fillText("<",d.x+d.width/2-40,d.y+d.height-17,{textBaseline:"bottom"}):p.draw.fillText(">",d.x+d.width/2+40,d.y+d.height-17,{textBaseline:"bottom"}),p.draw.drawPlayerPanel(d,f))}var l,c,u,d,f,s,y,g,w,v,x,m,p=i(0).default,b=function(t,e){var i=r();return!(1<Math.abs(t-i.x)||1<Math.abs(e-i.y))},S=function(t,e){return{x:Math.floor((t-l.x)/u.x),y:Math.floor((e-l.y)/u.y)}},k=function(t){switch(-1===m&&function(){for(var t=0;t<x.length;t++)-1===x[t]&&(x[t]=0)}(),x[t]=m){case-1:m=1;break;case 1:m=2;break;case 2:m=function(){for(var t=r(),e=-1;e<2;e++)for(var i=-1;i<2;i++){var n=t.x+e,a=t.y+i;if(0<=n&&n<=2&&0<=a&&a<=2&&0===x[n+3*a])return!0}return!1}()?-1:1}var e=o(x);0!==e?function(t){(-1===t?p.functions.doDamage(f,p.player.damage):p.functions.doDamage(p.player,f.damage))?y=!0:(w=t,setTimeout(M,2e3))}(e):0<m&&setTimeout(function(){return a()},501*Math.random()+500)},M=function(){x=[0,0,0,0,0,0,0,0,0],w=0,m=-1};e.default={onStart:function(t){l={x:p.canvas.width/5,y:p.canvas.height/10,width:3*p.canvas.width/5,height:3*p.canvas.height/5},c={x:p.canvas.width/2-90,y:5*p.canvas.height/6-30,width:180,height:60},u={x:l.width/3,y:l.height/3},d={x:0,y:l.y+l.height+20,width:p.canvas.width,height:p.canvas.height-(l.y+l.height+20)-1},f={name:"Evil Tic",life:100,damage:20},y=!(s=!0),g={"-1":"P",0:"",1:"X",2:"0"},v=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],p.player.damage=25,p.events.addClick(n),M()},onUpdate:function(){s?p.draw.drawTutorial("Last Mission","1950",f.name,["The boss act as player 1 (X) and 2 (0).","It loses HP when game result is draw.","You can move only to near positions."],c):(p.draw.line(l.x,l.y+u.y,l.x+l.width,l.y+u.y),p.draw.line(l.x,l.y+2*u.y,l.x+l.width,l.y+2*u.y),p.draw.line(l.x+u.x,l.y,l.x+u.x,l.y+l.height),p.draw.line(l.x+2*u.x,l.y,l.x+2*u.x,l.y+l.height),function(){for(var t=0;t<9;t++)if(0!==x[t]){var e=Math.floor(t/3),i=t-3*e;p.draw.fillText(g[x[t]],l.x+u.x*(.5+i),l.y+u.y*(.5+e))}}(),h())}}},function(t,e,i){"use strict";i.r(e);function n(t,e,i){e>a.x&&e<a.x+a.width&&i>a.y&&i<a.y+a.height&&o.next()}var a,r,o=i(0).default;e.default={onStart:function(t){a={x:o.canvas.width/2-180,y:2*o.canvas.height/3,width:360,height:60},r=t,o.events.addClick(n)},onUpdate:function(){r?o.draw.fillText("You defeated all Evil Games!",o.canvas.width/2,o.canvas.height/3):o.draw.fillText("You were defeated by Evil Games!",o.canvas.width/2,o.canvas.height/3),o.draw.fillText("Back to Future",a.x+a.width/2,a.y+a.height/2),o.draw.strokeRect(a.x,a.y,a.width,a.height)},onStop:function(){o.player.name="",o.player.life=100}}}]);